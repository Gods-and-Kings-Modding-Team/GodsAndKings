pap_add_schism_progress = {
	if = {
		limit = {
			PAP = {
				has_disaster_progress = {
					name = mr_western_schism
					value = 0
				}
			}
		}
		PAP = {
			add_disaster_progress = {
				disaster = mr_western_schism
				value = $VALUE$
			}
		}
	}
}


set_xp_costs_effect = {
	##cost modifiers for levelups
	set_variable = {
		which = branchA_base_cost
		value = 100
	}
	set_variable = {
		which = branchB_base_cost
		value = 100
	}
	set_variable = {
		which = branchC_base_cost
		value = 100
	}
	######
	set_variable = {
		which = branchApath_base_cost
		value = 200
	}
	set_variable = {
		which = branchBpath_base_cost
		value = 200
	}
	set_variable = {
		which = branchCpath_base_cost
		value = 200
	}
	######
	set_variable = {
		which = branchU_base_cost
		value = 200
	}
	set_variable = {
		which = branchUpath_base_cost
		value = 200
	}
	
	##modifiers for cost changes go here vvv
	
	#for example
	# if = {
		# limit = {
			# has_country_flag = cheaper_sappers
		# }
		# change_variable = {
			# which = branchB_base_cost
			# value = -20
		# }
	# }
}

elite_unit_menu_invalid_choice_effect = {
	custom_tooltip = gme_not_enough_xp$BRANCH$
	hidden_effect = { country_event = { id = generic_mission_events.51 } }
}

buy_elite_unit_tier = {
	add_country_modifier = {
		name = $ELITE_UNIT_MODIFIER$
		duration = -1
	}
	hidden_effect = {
		multiply_variable = { #makes negative so can subtract
			which = branch$BRANCH$_base_cost
			value = -1
		}
	}
	change_variable = {
		which = elite_unit_xp
		which = branch$BRANCH$_base_cost
	}
	hidden_effect = {
		multiply_variable = { #undoes negative cost
			which = branch$BRANCH$_base_cost
			value = -1
		}
	}
}

reset_elite_units = {
	if = {
		limit = {
			has_royal_guard = yes
		}
		remove_country_modifier = elite_royal_guard_1
		remove_country_modifier = elite_royal_guard_11
		remove_country_modifier = elite_royal_guard_12
	}
	else_if = {
		limit = {
			has_sappers = yes
		}
		remove_country_modifier = elite_sapper_1
	}
	else_if = {
		limit = {
			has_sappers = yes
		}
		remove_country_modifier = elite_vanguard_1
	}
}
update_maitreya_monthly = {
	set_variable = {
		which = maitreyan_power_counter_change
		value = 0
	}
	export_to_variable = {
		which = maitreya_stab_check
		value = stability
	}
	multiply_variable = {
		which = maitreya_stab_check
		value = 0.5
	}
	export_to_variable = {
		which = maitreya_legit_check
		value = trigger_value:legitimacy
	}
	multiply_variable = {
		which = maitreya_legit_check
		value = 0.005
	}
	export_to_variable = {
		which = maitreya_corruption_check
		value = corruption
	}
	multiply_variable = {
		which = maitreya_corruption_check
		value = -0.25
	}
	export_to_variable = {
		which = maitreya_war_exhaustion_check
		value = war_exhaustion
	}
	multiply_variable = {
		which = maitreya_war_exhaustion_check
		value = -0.01
	}
	export_to_variable = {
		which = maitreya_adm_check
		value = ADM
	}
	subtract_variable = {
		which = maitreya_adm_check
		value = 3
	}
	export_to_variable = {
		which = maitreya_dip_check
		value = DIP
	}
	subtract_variable = {
		which = maitreya_dip_check
		value = 3
	}
	export_to_variable = {
		which = maitreya_mil_check
		value = MIL
	}
	subtract_variable = {
		which = maitreya_mil_check
		value = 3
	}
	set_variable = {
		which = maitreya_other_check
		value = 0
	}
	if = {
		limit = {
			has_estate_privilege = estate_church_clerical_ministers
		}
		change_variable = {
			which = maitreya_other_check
			value = 0.25
		}
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_corruption_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_war_exhaustion_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_stab_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_legit_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_mil_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_dip_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_adm_check
	}
	change_variable = {
		which = maitreyan_power_counter_change
		which = maitreya_other_check
	}
}

update_maitreya_total_monthly = {
	change_variable = {
		which = maitreyan_power_counter
		which = maitreyan_power_counter_change
	}
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = maitreyan_power_counter
					value = 0
				}
			}
		}
		set_variable = {
			which = maitreyan_power_counter
			value = 0
		}
	}
}