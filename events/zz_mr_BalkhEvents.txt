namespace = MR_balkh_flavor

country_event = {
	id = MR_balkh_flavor.1 #RevoltWarning
	title = MR_balkh_flavor.1.t
	desc = MR_balkh_flavor.1.d
	picture = muslimgfx_REVOLUTION_eventPicture
	
	fire_only_once = yes

	trigger = { 
	   tag = BLK 
	   NOT = { has_country_flag = BLK_barlas_revolt_cleared } 
	   if = { 
	   limit = { has_country_flag = BLK_barlas_revolt0 } 
	   is_year = 1448  
	   }
	   
	   else_if = { 
	   limit = { has_country_flag = BLK_barlas_revolt1 } 
	   is_year = 1453     
	   }

       else_if = { 
	   limit = { has_country_flag = BLK_barlas_revolt2 } 
	   is_year = 1460     
	   }	   
    }
	
	option = {
		name = MR_balkh_flavor.1.a #CrushThisBozo
		ai_chance = {
			factor = 100
		}
		TRS = { 
		country_event = { 
         id = MR_balkh_flavor.2
         days = 5
         }
	   }	
	}

	option = {
		name = MR_balkh_flavor.1.b #LetHimGo
		ai_chance = {
			factor = 0
		}
		TRS = { 
		country_event = { 
         id = MR_balkh_flavor.3
         days = 5
         }
	   }	
	}	
}

country_event = {
	id = MR_balkh_flavor.2 #RevoltTime
	title = MR_balkh_flavor.2.t
	desc = MR_balkh_flavor.2.d
	picture = muslimgfx_REVOLUTION_eventPicture
	
	fire_only_once = yes
    is_triggered_only = yes
	
	option = {
		name = MR_balkh_flavor.2.a #BarlasRiseUp
		
		BLK = {
			free_vassal = TRS
		}
		TRS = {
		add_core = 450
		add_core = 2227
		capital_scope = {
			infantry = ROOT
			infantry = ROOT
			infantry = ROOT
			infantry = ROOT
			cavalry = ROOT
			cavalry = ROOT
		}
		declare_war_with_cb = {
			who = BLK
			casus_belli = cb_core
			war_goal_province = 450
		}
      }		
	}	
}

country_event = {
	id = MR_balkh_flavor.3 #IndependenceSatisfactory
	title = MR_balkh_flavor.3.t
	desc = MR_balkh_flavor.3.d
	picture = muslimgfx_BORDER_TENSION_eventPicture
	
	fire_only_once = yes
    is_triggered_only = yes
	
	option = {
		name = MR_balkh_flavor.3.a #FreeAtLast
	
		FROM = {
			free_vassal = ROOT
			add_truce_with = ROOT
		}
		hidden_effect = { add_truce_with = FROM }			
	}	
}

country_event = {
	id = MR_balkh_flavor.4 #Coup
	title = MR_balkh_flavor.4.t
	desc = MR_balkh_flavor.4.d
	picture = muslimgfx_BORDER_TENSION_eventPicture
	
	fire_only_once = yes
	
	trigger = { 
	   tag = BLK 
	   NOT = { government = republic }
    }	

    mean_time_to_happen = {
	months = 100

	modifier = {
		factor = 0.5
		NOT = { mil = 4 }
	   }
    }
	
	option = {
		name = MR_balkh_flavor.4.a #CoupThisBozo
		
        define_ruler = {
         dynasty = "Qara'unas"
         adm = 3
         dip = 3
         mil = 5
         age = 35
         claim = 100
         }		
		change_government = republic
		add_government_reform = qara_order_reform
		hidden_effect = { add_republican_tradition = 40 }
	}	
}

country_event = {
	id = MR_balkh_flavor.5 #NepotismHireAdvisor
	title = MR_balkh_flavor.5.t
	desc = MR_balkh_flavor.5.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    mean_time_to_happen = {
	months = 300
    }
	
	option = {
		name = MR_balkh_flavor.5.a #Hire
		
        define_advisor = {
         type = commandant
         skill = 2
         culture = ROOT
         religion = ROOT
		 discount = yes
        }
		
		add_government_power = {
	     mechanic_type = qaraunas_confidence_mechanic
         power_type = qaraunas_confidence
	     value = -10
        }
	}	
	option = {
		name = MR_balkh_flavor.5.b #NoNepotism
				
		add_government_power = {
	     mechanic_type = qaraunas_confidence_mechanic
         power_type = qaraunas_confidence
	     value = 5
        }
	}	
}

country_event = {
	id = MR_balkh_flavor.6 #NepotismHireGeneral
	title = MR_balkh_flavor.6.t
	desc = MR_balkh_flavor.6.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    mean_time_to_happen = {
	months = 300
    }
	
	option = {
		name = MR_balkh_flavor.6.a #Hire
		
        create_general = { tradition = 70 }
		
		add_government_power = {
	     mechanic_type = qaraunas_confidence_mechanic
         power_type = qaraunas_confidence
	     value = -10
        }
	}	
	option = {
		name = MR_balkh_flavor.6.b #NoNepotism
				
		add_government_power = {
	     mechanic_type = qaraunas_confidence_mechanic
         power_type = qaraunas_confidence
	     value = 5
        }
	}	
}

country_event = {
	id = MR_balkh_flavor.7 #SilverDeposits
	title = MR_balkh_flavor.7.t
	desc = MR_balkh_flavor.7.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = MR_balkh_flavor.7.a #Silver
		
		2231 = { change_trade_goods = silver }
	}		
}

country_event = {
	id = MR_balkh_flavor.8 #PortofNegudarabad
	title = MR_balkh_flavor.8.t
	desc = MR_balkh_flavor.8.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    is_triggered_only = yes
	fire_only_once = yes
	
	immediate = {
	    2231 = {
		remove_province_modifier = city_building_modifier
	   }
	}
	option = {
		name = MR_balkh_flavor.8.a #Build
		
		2231 = { 		 
		add_province_modifier = { 
		  name = balkh_seaport
		  duration = -1
          }		  
		center_of_trade = 2
		}
	}		
}

country_event = {
	id = MR_balkh_flavor.9 #KashmirGoods
	title = MR_balkh_flavor.9.t
	desc = MR_balkh_flavor.9.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = MR_balkh_flavor.9.a #Wool
		
		2074 = { 		 
		add_province_modifier = { 
		  name = cashmere_wool
		  duration = -1
          }		  
		}
		4521 = { 		 
		add_province_modifier = { 
		  name = cashmere_wool
		  duration = -1
          }		  
		}
		2073 = { 		 
		add_province_modifier = { 
		  name = cashmere_wool
		  duration = -1
          }		  
		}		
	}

	option = {
		name = MR_balkh_flavor.9.b #Saffron
		
		508 = { 	
        change_trade_goods = saffron		
		add_province_modifier = { 
		  name = kashmir_saffron
		  duration = -1
          }		  
		}
	}	
}

country_event = {
	id = MR_balkh_flavor.10 #IndianApproach
	title = MR_balkh_flavor.10.t
	desc = MR_balkh_flavor.10.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = MR_balkh_flavor.10.a #Compromise
		
		custom_tooltip = balkh_compromise_path_TT
		hidden_effect = { set_country_flag = balkh_compromise_path }	
	}

	option = {
		name = MR_balkh_flavor.10.b #Conversion
		
		custom_tooltip = balkh_conversion_path_TT
		hidden_effect = { set_country_flag = balkh_conversion_path }	
	}	
}

country_event = {
	id = MR_balkh_flavor.11 #IndianFormation
	title = MR_balkh_flavor.11.t
	desc = MR_balkh_flavor.11.d
	picture = muslimgfx_BORDER_TENSION_eventPicture

    is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = MR_balkh_flavor.10.a #RegularFormation
		trigger = { has_country_flag = balkh_compromise_path }
		
         change_tag = ETK	
         restore_country_name = yes		 
	}

	option = {
		name = MR_balkh_flavor.10.b #IslamicState
		trigger = { has_country_flag = balkh_conversion_path }
		
		change_tag = ETK
		ROOT = { override_country_name = ETKislam } 
     	522 = { add_reform_center = sunni }	
	}

    after = { 
	country_event = { 
	 id = MR_balkh_flavor.12
	 days = 7
	 }
    }	
}