namespace = generic_mission_events

country_event = {
	id = generic_mission_events.1
	title = generic_mission_events.1.t
	desc = generic_mission_events.1.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #Expanded Feudal Levys
		name = generic_mission_events.1.a
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gme_expanded_feudal_levy
			duration = 9125
		}
		set_country_flag = gme_expanded_feudal_levy_flag
		custom_tooltip = gme_later_better_modifier_army
	}
	
	option = { #Cavalry Focus
		name = generic_mission_events.1.b
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gme_expanded_stables
			duration = 9125
		}
		set_country_flag = gme_expanded_stables_flag
		custom_tooltip = gme_later_better_modifier_army
	}
	
	option = { #GUNS!
		name = generic_mission_events.1.c
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gme_firearms_adoption
			duration = 9125
		}
		set_country_flag = gme_firearms_adoption_flag
		custom_tooltip = gme_later_better_modifier_army
	}
	
	option = { #Hierarcy
		name = generic_mission_events.1.e
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gme_military_hierarchy
			duration = 9125
		}
		set_country_flag = gme_hierarchy_flag
		custom_tooltip = gme_later_better_modifier_army
	}
	
	option = { #Defense
		name = generic_mission_events.1.f
		ai_chance = { factor = 1 }
		if = {
			limit = {
				capital_scope = {
					NOT = { fort_level = 2 }
				}
				ai = no
			}
			capital_scope = {
				add_building_construction = {
					building = fort_15th
					speed = 1.0
					cost = 0.1
				}
			}
		}
		else = {
			add_country_modifier = {
				name = gme_defense
				duration = 9125
			}
		}
		set_country_flag = gme_defense_flag
		custom_tooltip = gme_later_better_modifier_army
	}
}

country_event = {
	id = generic_mission_events.2
	title = generic_mission_events.2.t
	desc = {
		trigger = { has_country_flag = gme_expanded_feudal_levy_perm}
		desc = generic_mission_events.2.da
	}
	desc = {
		trigger = { has_country_flag = gme_expanded_stables_flag}
		desc = generic_mission_events.2.db
	}
	desc = {
		trigger = { has_country_flag = gme_firearms_adoption_flag}
		desc = generic_mission_events.2.dc
	}
	desc = {
		trigger = { has_country_flag = gme_hierarchy_flag}
		desc = generic_mission_events.2.de
	}
	desc = {
		trigger = { has_country_flag = gme_defense_flag}
		desc = generic_mission_events.2.df
	}
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #Expanded Feudal Levys
		name = generic_mission_events.2.a
		trigger = { has_country_flag = gme_expanded_feudal_levy_flag }
		add_country_modifier = {
			name = gme_expanded_feudal_levy_perm
			duration = -1
		}
	}
	
	option = { #Cavalry
		name = generic_mission_events.2.b
		trigger = { has_country_flag = gme_expanded_stables_flag }
		add_country_modifier = {
			name = gme_expanded_stables_perm
			duration = -1
		}
	}
	
	option = { #Guns
		name = generic_mission_events.2.c
		trigger = { has_country_flag = gme_firearms_adoption_flag }
		add_country_modifier = {
			name = gme_firearms_adoption_perm
			duration = -1
		}
	}
	
	option = { #Hierarcy
		name = generic_mission_events.2.e
		trigger = { has_country_flag = gme_hierarchy_flag }
		add_country_modifier = {
			name = gme_military_hierarchy_perm
			duration = -1
		}
	}
	
	option = { #Defense
		name = generic_mission_events.2.f
		trigger = { has_country_flag = gme_defense_flag }
		add_country_modifier = {
			name = gme_defense_perm
			duration = -1
		}
	}
	
	after = {
		clr_country_flag = gme_expanded_feudal_levy_flag
		clr_country_flag = gme_expanded_stables_flag
		clr_country_flag = gme_firearms_adoption_flag
		clr_country_flag = gme_hierarchy_flag
		clr_country_flag = gme_defense_flag
	}
}

province_event = { #naval ethos
	id = generic_mission_events.3
	title = generic_mission_events.3.t
	desc = generic_mission_events.3.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #trade interests
		name = generic_mission_events.3.a
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gme_trade_navy
			duration = 9125
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
		set_country_flag = gme_trade_navy_flag
		custom_tooltip = gme_later_better_modifier
	}
	
	option = { #colonial ambitions
		name = generic_mission_events.3.b
		ai_chance = { factor = 1 }
		create_explorer = {
			tradition = 30
		}
		set_country_flag = gme_colonial_flag
		add_dip_power = 100
		custom_tooltip = gme_later_better_modifier
	}
	
	option = { #logistics
		name = generic_mission_events.3.c
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gme_logistics
			duration = 9125
		}
		set_country_flag = gme_logistics_flag
		custom_tooltip = gme_later_better_modifier
	}
}

country_event = { #naval ethos
	id = generic_mission_events.4
	title = generic_mission_events.4.t
	desc = {
		trigger = { has_country_flag = gme_trade_navy_flag }
		desc = generic_mission_events.4.da
	}
	desc = {
		trigger = { has_country_flag = gme_colonial_flag }
		desc = generic_mission_events.4.db
	}
	desc = {
		trigger = { has_country_flag = gme_logistics_flag }
		desc = generic_mission_events.4.dc
	}
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #trade interests
		name = generic_mission_events.4.a
		trigger = { has_country_flag = gme_trade_navy_flag }
		add_country_modifier = {
			name = gme_trade_navy_perm
			duration = -1
		}
	}
	
	option = { #colonial ambitions
		name = generic_mission_events.4.b
		trigger = { has_country_flag = gme_colonial_flag }
		add_country_modifier = {
			name = gme_colonial_perm
			duration = -1
		}
	}
	
	option = { #logistics
		name = generic_mission_events.4.c
		trigger = { has_country_flag = gme_logistics_flag }
		add_country_modifier = {
			name = gme_logistics_perm
			duration = -1
		}
	}
	
	after = {
		clr_country_flag = gme_trade_navy_flag
		clr_country_flag = gme_colonial_flag
		clr_country_flag = gme_logistics_flag
	}
}

country_event = { #diplo mission opener
	id = generic_mission_events.5
	title = generic_mission_events.5.t
	desc = generic_mission_events.5.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #default
		name = generic_mission_events.5.f
		ai_chance = { factor = 1 }
		add_dip_power = 100
	}
	
	option = { #cheap diplomat
		name = generic_mission_events.5.a
		ai_chance = { factor = 1 }
		trigger = {
			num_of_allies = 2
			calc_true_if = {
				all_ally = {
					has_opinion = {
						who = ROOT
						value = 150
					}
				}
				amount = 2
			}
		}
		define_advisor = {
			type = diplomat
			culture = ROOT
			religion = ROOT
			skill = 1
			cost_multiplier = 0.5
		}
	}
	
	option = { #cheap statesman
		name = generic_mission_events.5.b
		ai_chance = { factor = 1 }
		trigger = {
			num_of_allies = 2
			calc_true_if = {
				all_ally = {
					has_opinion = {
						who = ROOT
						value = 150
					}
				}
				amount = 2
			}
		}
		define_advisor = {
			type = statesman
			culture = ROOT
			religion = ROOT
			skill = 1
			cost_multiplier = 0.5
		}
	}
	
	option = { #humiliated
		name = generic_mission_events.5.c
		ai_chance = { factor = 1 }
		trigger = { has_country_flag = humiliated_rival }
		
		add_country_modifier = {
			name = gme_ae_diplo_reduction
			duration = 9125
		}
	}
	
	option = { #traders
		name = generic_mission_events.5.e
		ai_chance = { factor = 1 }
		trigger = { trade_income_percentage = 0.40 }
		
		add_country_modifier = {
			name = gme_trade_diplo_starter
			duration = 9125
		}
	}
}

country_event = { #declare historical friend - first person asks
	id = generic_mission_events.6
	title = generic_mission_events.6.t
	desc = generic_mission_events.6.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	immediate = {
		hidden_effect = {
			set_country_flag = historical_friend_decision_in_progress
			
			random_ally = {
				limit = {
					trust = {
					who = ROOT
					value = 100
				}
					capital_scope = {
						infantry_in_province = ROOT
					}
				}
				save_global_event_target_as = gme_declare_historical_friend
			}
		}
	}
	
	option = { #do declare historical friend
		name = generic_mission_events.6.a
		ai_chance = { factor = 1 }
		
		custom_tooltip = gme_event_6_tt
		event_target:gme_declare_historical_friend = {
			country_event = {
				id = generic_mission_events.7
			}
		}
	}
	
	option = { #DONT declare historical friend - player only
		name = generic_mission_events.6.b
		ai_chance = { factor = 1 }
		trigger = { ai = no }
		change_dip = 1
		hidden_effect = {
			clr_country_flag = historical_friend_decision_in_progress
		}
	}
	
	option = { #DONT declare historical friend - ai only
		name = generic_mission_events.6.c
		ai_chance = { factor = 1 }
		trigger = { ai = yes }
		
		add_dip_power = 100
		hidden_effect = {
			clr_country_flag = historical_friend_decision_in_progress
		}
	}
}

country_event = { #declare historical friend - second person agrees
	id = generic_mission_events.7
	title = generic_mission_events.7.t
	desc = generic_mission_events.7.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #accept
		name = generic_mission_events.7.a
		ai_chance = { factor = 100 }
		FROM = {
			set_country_flag = gme_historical_friend_agrees
			set_country_flag = gme_has_used_historical_friend_decision_successfully
			country_event = {
				id = generic_mission_events.8
			}
		}
	}
	
	option = { #decline
		name = generic_mission_events.7.b
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = generic_mission_events.8
			}
		}
	}
}

country_event = { #declare historical friend - first person informed of choice
	id = generic_mission_events.8
	title = generic_mission_events.8.t
	desc = generic_mission_events.8.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = { #they accepted
		name = generic_mission_events.8.a
		trigger = { 
			has_country_flag = gme_historical_friend_agrees
		}
		add_historical_friend = event_target:gme_declare_historical_friend
		remove_core = event_target:gme_declare_historical_friend
		remove_claim = event_target:gme_declare_historical_friend
		
		event_target:gme_declare_historical_friend = {
			every_owned_province = {
				remove_core = ROOT
				remove_claim = ROOT
			}
			add_historical_friend = ROOT
		}
	}
	
	option = { #they declined
		name = generic_mission_events.8.b
		trigger = { 
			NOT = { has_country_flag = gme_historical_friend_agrees }
		}
	}
	
	after = {
		clr_country_flag = gme_historical_friend_agrees
		clear_global_event_target = gme_declare_historical_friend
	}
}

country_event = { #declare historical rival
	id = generic_mission_events.9
	title = generic_mission_events.9.t
	desc = generic_mission_events.9.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	immediate = {
		hidden_effect = {
			random_rival_country = {
				limit = {
					capital_scope = {
						controlled_by = ROOT
					}
				}
				save_event_target_as = gme_historical_rival
			}
		}
	}
	
	option = { #torch the capital!
		name = generic_mission_events.9.a
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0.01
				has_global_flag = capital_already_torched_once
			}
		}
		
		event_target:gme_historical_rival = {
			add_historical_rival = ROOT
			capital_scope = {
				add_devastation = 100
				set_base_tax = 1
				set_base_production = 1
				set_base_manpower = 1
			}
			country_event = {
				id = generic_mission_events.10
			}
		}
		every_neighbor_country = {
			add_aggressive_expansion = {
				who = ROOT
				value = 6
				apply_calc = yes
			}
		}
		add_historical_rival = event_target:gme_historical_rival
		
		if = {
			limit = {
				NOT = { has_global_flag = capital_already_torched_once }
			}
			set_global_flag = capital_already_torched_once
		}
	}
	
	option = { #kill the king!
		name = generic_mission_events.9.b
		ai_chance = { factor = 10 }
		
		event_target:gme_historical_rival = {
			add_historical_rival = ROOT
			kill_ruler = yes
			add_stability = -1
		}
		add_ruler_personality = cruel_personality
		add_historical_rival = event_target:gme_historical_rival
	}
	
	option = { #loot their coffers!
		name = generic_mission_events.9.c
		ai_chance = { factor = 30 }
		
		event_target:gme_historical_rival = {
			add_historical_rival = ROOT
			add_years_of_income = -5
		}
		add_historical_rival = event_target:gme_historical_rival
		add_years_of_income = 1
	}
	
	option = { #steal their artifacts!
		name = generic_mission_events.9.e
		ai_chance = { factor = 50 }
		
		event_target:gme_historical_rival = {
			add_historical_rival = ROOT
			add_prestige = -200
		}
		add_historical_rival = event_target:gme_historical_rival
		add_prestige = 50
	}
	
	after = {
		set_country_flag = declared_rival_event
	}
}

country_event = { #declare historical rival
	id = generic_mission_events.10
	title = generic_mission_events.10.t
	desc = generic_mission_events.10.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	major = yes
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = {
		name = generic_mission_events.10.e
		
		custom_tooltip = capital_torched_tt
		tooltip = {
			add_historical_rival = ROOT
			every_neighbor_country = {
				add_aggressive_expansion = {
					who = FROM
					value = 6
					apply_calc = yes
				}
			}
		}
	}
}

country_event = { #choose new cash crop
	id = generic_mission_events.11
	title = generic_mission_events.11.t
	desc = generic_mission_events.11.d
	picture = MYSTIC_IN_PRAYER_eventPicture

	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	immediate = {
		set_country_flag = cash_crop_menu_active
		
		hidden_effect = {
			random_owned_province = {
				limit = {
					base_production = 12
					has_production_building_trigger = yes
				}
				save_event_target_as = new_cash_crop_target
			}
		}
	}
	
	option = { #go back
		name = generic_mission_events.11.a
	}
#####################	
	option = { #we are fine with the current good
		name = generic_mission_events.11.b
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = {
				base_production = 12
				has_production_building_trigger = yes
			}
		}
		event_target:new_cash_crop_target = {
			add_base_production = 1
			add_province_modifier = {
				name = gme_increased_productivity
				duration = -1
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #tea unavailable
		name = generic_mission_events.11.c
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = tea } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = tea
				}
			}
		}
		custom_tooltip = generic_mission_events_11_tea_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #tea available
		name = generic_mission_events.11.c
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = tea } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = tea
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = tea
			add_province_modifier = {
				name = gme_cash_crop
				duration = -1
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #spices unavailable
		name = generic_mission_events.11.e
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = spices } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = spices
				}
			}
		}
		custom_tooltip = generic_mission_events_11_spices_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #spices available
		name = generic_mission_events.11.e
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = spices } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = spices
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = spices
			add_province_modifier = {
				name = gme_cash_crop
				duration = -1
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #coffee unavailable
		name = generic_mission_events.11.f
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = coffee } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = coffee
				}
			}
		}
		custom_tooltip = generic_mission_events_11_coffee_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #coffee available
		name = generic_mission_events.11.f
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = coffee } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = coffee
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = coffee
			if = {
				limit = {
					OR = {
						has_climate = tropical
						has_climate = arid
					}
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #cotton unavailable
		name = generic_mission_events.11.g
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = cotton } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = cotton
				}
			}
		}
		custom_tooltip = generic_mission_events_11_cotton_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #cotton available
		name = generic_mission_events.11.g
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = cotton } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = cotton
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = cotton
			if = {
				limit = {
					OR = {
						has_climate = tropical
						has_climate = arid
					}
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #sugar unavailable
		name = generic_mission_events.11.h
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = sugar } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = sugar
				}
			}
		}
		custom_tooltip = generic_mission_events_11_sugar_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #sugar available
		name = generic_mission_events.11.h
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = sugar } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = sugar
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = sugar
			if = {
				limit = {
					has_climate = tropical
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #tobacco unavailable
		name = generic_mission_events.11.i
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = tobacco } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = tobacco
				}
			}
		}
		custom_tooltip = generic_mission_events_11_tobacco_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #tobacco available
		name = generic_mission_events.11.i
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = tobacco } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = tobacco
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = tobacco
			add_province_modifier = {
				name = gme_cash_crop
				duration = -1
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #cocoa unavailable
		name = generic_mission_events.11.j
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = cocoa } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = cocoa
				}
			}
		}
		custom_tooltip = generic_mission_events_11_cocoa_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #cocoa available
		name = generic_mission_events.11.j
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = cocoa } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = cocoa
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = cocoa
			if = {
				limit = {
					has_climate = tropical
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	# option = { #cloves unavailable
		# name = generic_mission_events.11.k
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = cloves } }
			# NOT = {
				# num_of_owned_provinces_with = {
					# value = 1
					# trade_goods = cloves
				# }
			# }
		# }
		# custom_tooltip = generic_mission_events_11_cloves_unavailable
		# hidden_effect = { country_event = { id = generic_mission_events.12 } }
	# }
	# option = { #cloves available
		# name = generic_mission_events.11.k
		# highlight = yes
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = cloves } }
			# num_of_owned_provinces_with = {
				# value = 1
				# trade_goods = cloves
			# }
		# }
		# event_target:new_cash_crop_target = {
			# change_trade_goods = cloves
			# add_province_modifier = {
				# name = gme_cash_crop
				# duration = -1
			# }
		# }
		# set_country_flag = used_cash_crop_decision
	# }
	
	option = { #nutmeg unavailable
		name = generic_mission_events.11.l
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = nutmeg } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = nutmeg
				}
			}
		}
		custom_tooltip = generic_mission_events_11_nutmeg_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #nutmeg available
		name = generic_mission_events.11.l
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = nutmeg } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = nutmeg
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = nutmeg
			if = {
				limit = {
					has_climate = tropical
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #tumeric unavailable
		name = generic_mission_events.11.m
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = tumeric } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = tumeric
				}
			}
		}
		custom_tooltip = generic_mission_events_11_turmeric_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #tumeric available
		name = generic_mission_events.11.m
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = tumeric } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = tumeric
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = tumeric
			if = {
				limit = {
					has_climate = tropical
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	# option = { #saffron unavailable
		# name = generic_mission_events.11.n
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = saffron } }
			# NOT = {
				# num_of_owned_provinces_with = {
					# value = 1
					# trade_goods = saffron
				# }
			# }
		# }
		# custom_tooltip = generic_mission_events_11_saffron_unavailable
		# hidden_effect = { country_event = { id = generic_mission_events.12 } }
	# }
	# option = { #saffron available
		# name = generic_mission_events.11.n
		# highlight = yes
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = saffron } }
			# num_of_owned_provinces_with = {
				# value = 1
				# trade_goods = saffron
			# }
		# }
		# event_target:new_cash_crop_target = {
			# change_trade_goods = saffron
			# add_province_modifier = {
				# name = gme_cash_crop
				# duration = -1
			# }
		# }
		# set_country_flag = used_cash_crop_decision
	# }
	
	# option = { #fruit unavailable
		# name = generic_mission_events.11.o
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = fruit } }
			# NOT = {
				# num_of_owned_provinces_with = {
					# value = 1
					# trade_goods = fruit
				# }
			# }
		# }
		# custom_tooltip = generic_mission_events_11_fruit_unavailable
		# hidden_effect = { country_event = { id = generic_mission_events.12 } }
	# }
	# option = { #fruit available
		# name = generic_mission_events.11.o
		# highlight = yes
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = fruit } }
			# num_of_owned_provinces_with = {
				# value = 1
				# trade_goods = fruit
			# }
		# }
		# event_target:new_cash_crop_target = {
			# change_trade_goods = fruit
			# add_province_modifier = {
				# name = gme_cash_crop
				# duration = -1
			# }
		# }
		# set_country_flag = used_cash_crop_decision
	# }
	
	option = { #ginger unavailable
		name = generic_mission_events.11.p
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = ginger } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = ginger
				}
			}
		}
		custom_tooltip = generic_mission_events_11_ginger_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #ginger available
		name = generic_mission_events.11.p
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = ginger } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = ginger
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = ginger
			add_province_modifier = {
				name = gme_cash_crop
				duration = -1
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	# option = { #tropical_fruit unavailable
		# name = generic_mission_events.11.q
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = tropical_fruit } }
			# NOT = {
				# num_of_owned_provinces_with = {
					# value = 1
					# trade_goods = tropical_fruit
				# }
			# }
		# }
		# custom_tooltip = generic_mission_events_11_tropical_fruit_unavailable
		# hidden_effect = { country_event = { id = generic_mission_events.12 } }
	# }
	# option = { #tropical_fruit available
		# name = generic_mission_events.11.q
		# highlight = yes
		# trigger = {
			# event_target:new_cash_crop_target = { NOT = { trade_goods = tropical_fruit } }
			# num_of_owned_provinces_with = {
				# value = 1
				# trade_goods = tropical_fruit
			# }
		# }
		# event_target:new_cash_crop_target = {
			# change_trade_goods = tropical_fruit
			# add_province_modifier = {
				# name = gme_cash_crop
				# duration = -1
			# }
		# }
		# set_country_flag = used_cash_crop_decision
	# }
	
	option = { #citrus unavailable
		name = generic_mission_events.11.r
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = citrus } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = citrus
				}
			}
		}
		custom_tooltip = generic_mission_events_11_citrus_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #citrus available
		name = generic_mission_events.11.r
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = citrus } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = citrus
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = citrus
			add_province_modifier = {
				name = gme_cash_crop
				duration = -1
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #grapes unavailable
		name = generic_mission_events.11.s
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = grapes } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = grapes
				}
			}
		}
		custom_tooltip = generic_mission_events_11_grapes_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #grapes available
		name = generic_mission_events.11.s
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = grapes } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = grapes
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = grapes
			if = {
				limit = {
					NOT = { has_climate = tropical }
					NOT = { has_climate = arid }
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #dates_figs unavailable
		name = generic_mission_events.11.v
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = dates_figs } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = dates_figs
				}
			}
		}
		custom_tooltip = generic_mission_events_11_dates_figs_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #dates_figs available
		name = generic_mission_events.11.v
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = dates_figs } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = dates_figs
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = dates_figs
			if = {
				limit = {
					has_climate = arid
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
	
	option = { #olives unavailable
		name = generic_mission_events.11.u
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = olives } }
			NOT = {
				num_of_owned_provinces_with = {
					value = 1
					trade_goods = olives
				}
			}
		}
		custom_tooltip = generic_mission_events_11_olives_unavailable
		hidden_effect = { country_event = { id = generic_mission_events.12 } }
	}
	option = { #olives available
		name = generic_mission_events.11.u
		highlight = yes
		trigger = {
			event_target:new_cash_crop_target = { NOT = { trade_goods = olives } }
			num_of_owned_provinces_with = {
				value = 1
				trade_goods = olives
			}
		}
		event_target:new_cash_crop_target = {
			change_trade_goods = olives
			if = {
				limit = {
					NOT = { has_climate = tropical }
					NOT = { has_climate = arid }
				}
				add_province_modifier = {
					name = gme_cash_crop
					duration = -1
				}
			}
			else = {
				custom_tooltip = bad_climate_gme_tt
				add_province_modifier = {
					name = gme_cash_crop_bad_climate
					duration = -1
				}
			}
		}
		set_country_flag = used_cash_crop_decision
	}
#################
	after = {
		clr_country_flag = cash_crop_menu_active
	}
}

country_event = { #choose new cash crop refresh
	id = generic_mission_events.12
	title = generic_mission_events.12.t
	desc = generic_mission_events.12.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = {
        name = generic_mission_events.12.a
		country_event = { id = generic_mission_events.11 }
	}
}

country_event = { #currency
	id = generic_mission_events.13
	title = generic_mission_events.13.t
	desc = generic_mission_events.13.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = {#mixed coinage
		name = generic_mission_events.13.a
		add_country_modifier = {
			name = gme_mixed_coinage
		}
	}

	option = {
		name = generic_mission_events.13.b
		trigger = { any_owned_province = { trade_goods = gold } }
		random_owned_province = {
			limit = {
				trade_goods = gold
			}
			add_province_modifier = {
				name = gme_mint
				duration = -1
			}
		}
	}
	option = {
        name = generic_mission_events.13.c
		trigger = { any_owned_province = { trade_goods = silver } }
		random_owned_province = {
			limit = {
				trade_goods = silver
			}
			add_province_modifier = {
				name = gme_mint
				duration = -1
			}
		}
	}
	option = {
        name = generic_mission_events.13.e
		trigger = { any_owned_province = { trade_goods = copper } }
		random_owned_province = {
			limit = {
				trade_goods = copper
			}
			add_province_modifier = {
				name = gme_copper_mint
				duration = -1
			}
		}
	}
}

province_event = { #elite unit menu
	id = generic_mission_events.50
	title = generic_mission_events.50.t
	desc = generic_mission_events.50.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	immediate = {
		set_country_flag = elite_unit_menu_active
		
		set_xp_costs_effect = yes
	}
	
	#go back
	option = {
		name = generic_mission_events.50.a
	}
	
	
##################
##################
	option = { #Not enough XP for starter branch A
		name = generic_mission_events.50.a1
		trigger = {
			NOT = {
				check_variable = {
					which = elite_unit_xp
					which = branchA_base_cost
				}
			}
			has_not_unlocked_t1_elite_units = yes
			has_not_unlocked_t2_elite_units = yes
		}
		custom_tooltip = gme_not_enough_xpA
		hidden_effect = { country_event = { id = generic_mission_events.51 } }
	}
	option = { #Enough XP for starter branch A
		name = generic_mission_events.50.a1
		highlight = yes
		trigger = {
			check_variable = {
				which = elite_unit_xp
				which = branchA_base_cost
			}
			has_not_unlocked_t1_elite_units = yes
			has_not_unlocked_t2_elite_units = yes
		}
		add_country_modifier = {
			name = elite_royal_guard_1
			duration = -1
		}
		hidden_effect = {
			multiply_variable = {
				which = branchA_base_cost
				value = -1
			}
		}
		change_variable = {
			which = elite_unit_xp
			which = branchA_base_cost
		}
	}
	
	option = { #Not enough XP for starter branch B
		name = generic_mission_events.50.a2
		trigger = {
			NOT = {
				check_variable = {
					which = elite_unit_xp
					which = branchB_base_cost
				}
			}
			has_not_unlocked_t1_elite_units = yes
			has_not_unlocked_t2_elite_units = yes
		}
		custom_tooltip = gme_not_enough_xpB
		hidden_effect = { country_event = { id = generic_mission_events.51 } }
	}
	option = { #Enough XP for starter branch B
		name = generic_mission_events.50.a2
		highlight = yes
		trigger = {
			check_variable = {
				which = elite_unit_xp
				which = branchB_base_cost
			}
			has_not_unlocked_t1_elite_units = yes
			has_not_unlocked_t2_elite_units = yes
		}
		add_country_modifier = {
			name = elite_sapper_1
			duration = -1
		}
		hidden_effect = {
			multiply_variable = {
				which = branchB_base_cost
				value = -1
			}
		}
		change_variable = {
			which = elite_unit_xp
			which = branchB_base_cost
		}
	}
	
	option = { #Not enough XP for starter branch C
		name = generic_mission_events.50.a3
		trigger = {
			NOT = {
				check_variable = {
					which = elite_unit_xp
					which = branchC_base_cost
				}
			}
			has_not_unlocked_t1_elite_units = yes
			has_not_unlocked_t2_elite_units = yes
		}
		custom_tooltip = gme_not_enough_xpC
		hidden_effect = { country_event = { id = generic_mission_events.51 } }
	}
	option = { #Enough XP for starter branch C
		name = generic_mission_events.50.a3
		highlight = yes
		trigger = {
			check_variable = {
				which = elite_unit_xp
				which = branchC_base_cost
			}
			has_not_unlocked_t1_elite_units = yes
			has_not_unlocked_t2_elite_units = yes
		}
		add_country_modifier = {
			name = elite_vanguard_1
			duration = -1
		}
		hidden_effect = {
			multiply_variable = {
				which = branchC_base_cost
				value = -1
			}
		}
		change_variable = {
			which = elite_unit_xp
			which = branchC_base_cost
		}
	}
	
######################
#
#Royal Guard Branch
#
######################

	option = { #Not enough XP for branch A T2 1
		name = generic_mission_events.50.a11
		trigger = {
			NOT = {
				check_variable = {
					which = elite_unit_xp
					which = branchApath_base_cost
				}
			}
			has_country_modifier = elite_royal_guard_1
		}
		custom_tooltip = gme_not_enough_xp
		hidden_effect = { country_event = { id = generic_mission_events.51 } }
	}
	option = { #Enough XP for starter branch A T2 1
		name = generic_mission_events.50.a11
		highlight = yes
		trigger = {
			check_variable = {
				which = elite_unit_xp
				which = branchApath_base_cost
			}
			has_country_modifier = elite_royal_guard_1
		}
		
		remove_country_modifier = elite_royal_guard_1
		add_country_modifier = {
			name = elite_royal_guard_11
			duration = -1
		}
		
		hidden_effect = {
			multiply_variable = {
				which = branchApath_base_cost
				value = -1
			}
		}
		change_variable = {
			which = elite_unit_xp
			which = branchApath_base_cost
		}
	}

	option = { #Not enough XP for branch A T2 2
		name = generic_mission_events.50.a12
		trigger = {
			NOT = {
				check_variable = {
					which = elite_unit_xp
					which = branchApath_base_cost
				}
			}
			has_country_modifier = elite_royal_guard_1
		}
		custom_tooltip = gme_not_enough_xp
		hidden_effect = { country_event = { id = generic_mission_events.51 } }
	}
	option = { #Enough XP for starter branch A T2 2
		name = generic_mission_events.50.a12
		highlight = yes
		trigger = {
			check_variable = {
				which = elite_unit_xp
				which = branchApath_base_cost
			}
			has_country_modifier = elite_royal_guard_1
		}
		
		remove_country_modifier = elite_royal_guard_1
		add_country_modifier = {
			name = elite_royal_guard_12
			duration = -1
		}
		
		hidden_effect = {
			multiply_variable = {
				which = branchApath_base_cost
				value = -1
			}
		}
		change_variable = {
			which = elite_unit_xp
			which = branchApath_base_cost
		}
	}

##################
	after = {
		clr_country_flag = elite_unit_menu_active
	}
}

#############
country_event = { #refresh unit specialization menu
	id = generic_mission_events.51
	title = generic_mission_events.51.t
	desc = generic_mission_events.51.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	trigger = { always = yes }
	mean_time_to_happen = { days = 1 }
	
	option = {
        name = generic_mission_events.51.a
		country_event = { id = generic_mission_events.50 }
	}
}
